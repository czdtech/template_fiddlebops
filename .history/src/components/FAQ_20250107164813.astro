---
const faqs = [
  {
    question: "什么是 FiddleBops？",
    answer: "FiddleBops 是一款富有创意的音乐制作游戏，玩家可以通过混合独特的角色声音来创作原创作品。",
  },
  {
    question: "我需要下载任何东西才能玩吗？",
    answer: "不需要，FiddleBops 直接在您的 Web 浏览器中运行，无需下载或安装。",
  },
  {
    question: "如何开始创作音乐？",
    answer: "只需将角色拖到舞台上，即可将他们的声音添加到您的组合中。尝试不同的组合以获得独特的曲目。",
  },
  {
    question: "我可以保存我的作品吗？",
    answer: "是的，玩家可以保存他们的作品并在社区中与他人分享。",
  },
  {
    question: "FiddleBops 可以免费玩吗？",
    answer: "是的，这款游戏在 Sprunki InCrediBox 平台上完全免费。",
  },
];
---

<section class="mb-16">
  <h2 class="text-3xl font-bold font-display text-accent mb-8 text-center">
    常见问题
  </h2>

  <div class="container mx-auto px-4">
    <div class="max-w-3xl mx-auto space-y-4">
      {
        faqs.map((faq, index) => (
          <div class="bg-card hover:bg-card-hover backdrop-blur-sm rounded-lg transition-all duration-300">
            <button
              class="w-full p-4 sm:p-6 flex justify-between items-center gap-4 text-left"
              aria-expanded="false"
              aria-controls={`faq-answer-${index}`}
            >
              <span class="font-bold text-lg sm:text-xl text-secondary">
                {faq.question}
              </span>
              <svg
                class="w-6 h-6 flex-shrink-0 transition-transform duration-300"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"
                />
              </svg>
            </button>

            <div
              id={`faq-answer-${index}`}
              class="hidden p-6 pt-0 text-text"
            >
              <p>{faq.answer}</p>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const buttons = document.querySelectorAll("button[aria-controls]");
    
    buttons.forEach((button) => {
      button.addEventListener("click", () => {
        const isExpanded = button.getAttribute("aria-expanded") === "true";
        const answerId = button.getAttribute("aria-controls");
        const answer = document.getElementById(answerId!);
        const icon = button.querySelector("svg");

        button.setAttribute("aria-expanded", (!isExpanded).toString());
        answer?.classList.toggle("hidden");
        icon?.classList.toggle("rotate-180");
      });
    });
  });
</script> 